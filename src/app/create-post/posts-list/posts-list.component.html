<div class="container">
  <div class="row">
    <div *ngFor="let post of posts.reverse()">
      <div class="single-post">
        <div
          class="post-job"
          [ngStyle]="{
            backgroundColor: post.createByWorker ? '#f00' : 'green'
          }"
        >
          <span>{{ post.job }}</span>
        </div>
        <div
          [title]="' عرض حساب' + ' ' + post.creator.userName"
          class="post-header"
        >
          <a (click)="onGetUser(post.creator._id)"
            ><header>
              <img
                [src]="post.creator.profileImage"
                [alt]="post.creator.userName"
              />
              <h5>{{ post.creator.userName }}</h5>
              <div class="post-date">
                <p>{{ post.postDate }}</p>
              </div>
            </header>
          </a>
        </div>

        <div class="post-address-phone">
          <div>
            <i class="fa fa-phone"></i>
            <p>{{ post.creatorPhone }}</p>
          </div>
          <div>
            <i class="fa fa-globe"></i>
            <p>
              {{ post.creatorBigCity }} ,
              {{ post.creatorCity }}
            </p>
          </div>
        </div>
        <div class="post-text">
          <i class="fa fa-pen"></i>
          <p>{{ post.postText }}</p>
        </div>
        <div class="post-images" *ngIf="post.postImages.length > 0">
          <img
            [ngStyle]="{
              width: post.postImages.length === 1 ? '100%' : '50%'
            }"
            *ngFor="let imgUrl of post.postImages"
            (click)="displayImage(imgUrl)"
            [src]="imgUrl"
            alt=""
          />
        </div>
        <div *ngIf="showPostControls" class="post-controls">
          <button
            *ngIf="post.creator._id === userId || isAdmin"
            (click)="onDeletePost(post._id)"
            class="btn btn-danger"
          >
            <i class="fa fa-trash"></i>
            حذف
          </button>
          <button class="btn btn-dark" (click)="onAddComment(post._id)">
            <i class="fa fa-comment"></i>
            تعليق
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="alert-post-delete" *ngIf="deleltePost">
  <app-alert-danger [errorMessage]="'تم الحذف'"></app-alert-danger>
</div>
<section *ngIf="displayedImageUrl" class="displayIamge">
  <i class="fa fa-times" (click)="closeImage()"></i>
  <img [src]="displayedImageUrl" alt="" />
</section>
